<!DOCTYPE HTML>
<html lang="en-us">
<head>
<meta charset="utf-8">
<title>Monthly Payment</title>
<script>
function doPayment() {
let a= parseFloat(document.getElementById('a').value);
let r= parseFloat(document.getElementById('rate').value);
let y= parseFloat(document.getElementById('year').value);
let p= parseFloat(document.getElementById('period').value); 

let result=computePayment(a, r, y, p); 

document.getElementById('output').innerHTML=result.toFixed(2);} 

function computePayment (a, r, y, p) {
return (a*r/p)/(1-(1+r/p)**(-y*p));
} 

function doBalance() {
let a= parseFloat(document.getElementById('a').value);
let r= parseFloat(document.getElementById('rate').value);
let y= parseFloat(document.getElementById('year').value);
let p= parseFloat(document.getElementById('period').value);
let d= parseFloat(document.getElementById('paid').value); 
let result=computeBalance(a, r, y, p, d); 

document.getElementById('outPut').innerHTML=result.toFixed(2);
}

function computeBalance (a, r, y, p, d) {
  let pr = r/y;
  
// return (a*(1+pr)**d)-(p*((1+pr)**d-1))/pr;
return a*Math.pow(1+pr, d) - (p *(Math.pow(1+pr, d)-1))/pr;
}

</script>
</head>
<body>
Amount borrowed:<input type="text" id="a"><br>
Annual interest rate:<input type="text" id="rate"><br>
Number of Years:<input type="text" id="year"><br>
Periods per year:<input type="text" id="period"><br>
<button type="button" onclick="doPayment()">Compute payment</button>
<div id="output"></div>
Number of Payments paid to date: <input type="text" id="paid"><br>
<button type="button" onclick="doBalance()">Compute payoff amount</button>
<div id="outPut"></div>
</body>
</html>