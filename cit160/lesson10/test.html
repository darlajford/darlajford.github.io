<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script>
    function doPayment() {
      let principal = parseFloat(document.getElementById('Principal').value);
      let annualRate = parseFloat(document.getElementById('Annual Rate').value);
      let years = parseFloat(document.getElementById('NumbYears').value);
      let periodsPerYear = parseFloat(document.getElementById('NumbPayments').value);

      let payment = computePayment(principal, annualRate, years, periodsPerYear);

      document.getElementById('payment').innerHTML = payment;

    }

    function doBalance() {
      let principal = parseFloat(document.getElementById('Principal').value);
      let annualRate = parseFloat(document.getElementById('Annual Rate').value);
      let years = parseFloat(document.getElementById('NumbYears').value);
      let periodsPerYear = parseFloat(document.getElementById('NumbPayments').value);
      let numberOfPaymentPaidToDate = parseFloat(document.getElementById('PaymentsMade').value);

      let Balance = computeBalance(principal, annualRate, years, periodsPerYear, numberOfPaymentPaidToDate);

      document.getElementById('Balance').innerHTML = Balance;

    }

    function computePayment(principal, annualRate, years, periodsPerYear) {
      let periodRate = annualRate / periodsPerYear;
      let totalPeriods = periodsPerYear * years;
      let payment = (periodRate * principal) / (1 - (Math.pow(1 + periodRate, -totalPeriods)));
      return parseFloat(payment).toFixed(2);

    }

    function computeBalance(principal, annualRate, years, periodsPerYear, numberOfPaymentPaidToDate) {
      let periodRate = annualRate / periodsPerYear;
      let totalPeriods = periodsPerYear * years;
      let payment = (periodRate * principal) / (1 - (Math.pow(1 + periodRate, -totalPeriods)));
      payment = parseFloat(payment.toFixed(2));
      let Balance = (principal * (Math.pow(1 + periodRate, numberOfPaymentPaidToDate))) - (payment * (Math.pow(1 +
        periodRate, numberOfPaymentPaidToDate) - 1)) / (periodRate)

      return parseFloat(Balance).toFixed(2);

    }
  </script>
</head>

<body>
  <h1>Loan Calculator</h1>
  <p>Amount Borrowed (Principal) <input type="text" id="Principal"></p>
  <p>Annual Interst Rate (example .08) <input type="text" id="Annual Rate"></p>
  <p>Number of Years <input type="text" id="NumbYears"></p>
  <p>Payments per Year <input type="text" id="NumbPayments"></p>

  <button type="button" onclick="doPayment ( )">Compute Payment</button>
  <div id="payment"></div>
  <p>Number of Payments Paid to date <input type="text" ID="PaymentsMade"></p>
  <button type="button" onclick="doBalance ( )">Compute Payoff Amount</button>
  <div id="Balance"></div>
</body>

</html>